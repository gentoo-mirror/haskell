# Copyright 1999-2025 Gentoo Authors
# Distributed under the terms of the GNU General Public License v2

EAPI=8

# ebuild generated by hackport 0.9.0.0.9999

CABAL_FEATURES="lib profile haddock hoogle hscolour" # test-suite"
inherit haskell-cabal

DESCRIPTION="Utilities to work with cabal-install files"
HOMEPAGE="https://haskell-ci.rtfd.org/"

LICENSE="GPL-2 BSD"
SLOT="0/${PV}"
KEYWORDS="~amd64"
RESTRICT="test" #files not in tarball

CABAL_CHDEPS=(
	'base          >=4.12      && <4.21' 'base >= 4.12'
	'Cabal-syntax  ^>=3.12.0.0' 'Cabal-syntax >=3.12.0.0'
	'time          ^>=1.8.0.2  || ^>=1.9.3    || ^>=1.11.1.1 || ^>=1.12.2' 'time >=1.8.0.2'
)

RDEPEND=">=dev-haskell/base16-bytestring-1.0.0.0:=[profile?] <dev-haskell/base16-bytestring-1.1:=[profile?]
	>=dev-haskell/binary-instances-1:=[profile?] <dev-haskell/binary-instances-1.1:=[profile?]
	>=dev-haskell/cabal-syntax-3.12.0.0:=[profile?]
	>=dev-haskell/cryptohash-sha256-0.11.101.0:=[profile?] <dev-haskell/cryptohash-sha256-0.12:=[profile?]
	>=dev-haskell/lukko-0.1.1:=[profile?] <dev-haskell/lukko-0.2:=[profile?]
	>=dev-haskell/network-uri-2.6.1.0:=[profile?] <dev-haskell/network-uri-2.7:=[profile?]
	>=dev-haskell/parsec-3.1.13.0:=[profile?] <dev-haskell/parsec-3.2:=[profile?]
	>=dev-lang/ghc-9.0.2:=
	>=dev-haskell/aeson-2.1.0.0:=[profile?] <dev-haskell/aeson-2.3:=[profile?]
	>=dev-haskell/tar-0.5.1.1:=[profile?] <dev-haskell/tar-0.7:=[profile?]
	>=dev-haskell/text-1.2.3.0:=[profile?] <dev-haskell/text-2.2:=[profile?]
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-3.4.1.0
	"
#	test? ( >=dev-haskell/ansi-terminal-1.0 <dev-haskell/ansi-terminal-1.2
#		dev-haskell/tar
#		>=dev-haskell/tasty-golden-2.3.1.1 <dev-haskell/tasty-golden-2.4
#		>=dev-haskell/tasty-hunit-0.10.0.2 <dev-haskell/tasty-hunit-0.11
#		>=dev-haskell/tree-diff-0.2 <dev-haskell/tree-diff-0.4
#		|| ( ( >=dev-haskell/tasty-1.4 <dev-haskell/tasty-1.5 )
#			( >=dev-haskell/tasty-1.5 <dev-haskell/tasty-1.6 ) ) )
#"
